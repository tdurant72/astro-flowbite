---
import { getCollection } from "astro:content";
import ArticleCard from "./ArticleCard.astro";

// Fetch all blog entries from the 'blog' collection
const blog = await getCollection("blog");

// Sort by pubDate descending
const sortedBlog = blog.sort(
  (a, b) =>
    new Date(b.data.pubDate).valueOf() - new Date(a.data.pubDate).valueOf()
);
---

<div
  class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-8 md:gap-x-16 md:gap-y-32 md:pt-24"
>
  {sortedBlog.map((article) => <ArticleCard article={article} />)}
</div>
